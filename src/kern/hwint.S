
; generated by intr.S.rb
; do not edit

[section .text]
[global _hwint_restore_regs]
[extern hwint_common]

;; 
;; this routine is called on each isr & irq is raised. store the current cpu state on the kernel stack.
;; kernel stack is pointed by the esp0 field inside tss.
;; 
;; the routine _int_restore_regs is just called from *swtch*. 
_hwint_common_stub:
    pusha
    push dword ds
    push dword es
    push dword fs
    push dword gs
    mov ax, 0x10
    mov ds, ax
    mov es, ax
    mov fs, ax
    mov gs, ax
    mov eax, esp
    push eax                        ; esp is just the pointer to struct regs *.
    mov eax, hwint_common
    call eax
    pop eax                         ; esp ignored
_hwint_restore_regs:
    pop dword gs
    pop dword fs
    pop dword es
    pop dword ds
    popa
    add esp, 8
    sti
    iret


    _hwint0:
      cli
      push  dword 0
      push  dword 0
      jmp   _hwint_common_stub
  

    _hwint1:
      cli
      push  dword 0
      push  dword 1
      jmp   _hwint_common_stub
  

    _hwint2:
      cli
      push  dword 0
      push  dword 2
      jmp   _hwint_common_stub
  

    _hwint3:
      cli
      push  dword 0
      push  dword 3
      jmp   _hwint_common_stub
  

    _hwint4:
      cli
      push  dword 0
      push  dword 4
      jmp   _hwint_common_stub
  

    _hwint5:
      cli
      push  dword 0
      push  dword 5
      jmp   _hwint_common_stub
  

    _hwint6:
      cli
      push  dword 0
      push  dword 6
      jmp   _hwint_common_stub
  

    _hwint7:
      cli
      push  dword 0
      push  dword 7
      jmp   _hwint_common_stub
  

    _hwint8:
      cli
      
      push  dword 8
      jmp   _hwint_common_stub
  

    _hwint9:
      cli
      
      push  dword 9
      jmp   _hwint_common_stub
  

    _hwint10:
      cli
      
      push  dword 10
      jmp   _hwint_common_stub
  

    _hwint11:
      cli
      
      push  dword 11
      jmp   _hwint_common_stub
  

    _hwint12:
      cli
      
      push  dword 12
      jmp   _hwint_common_stub
  

    _hwint13:
      cli
      
      push  dword 13
      jmp   _hwint_common_stub
  

    _hwint14:
      cli
      
      push  dword 14
      jmp   _hwint_common_stub
  

    _hwint15:
      cli
      push  dword 0
      push  dword 15
      jmp   _hwint_common_stub
  

    _hwint16:
      cli
      push  dword 0
      push  dword 16
      jmp   _hwint_common_stub
  

    _hwint17:
      cli
      
      push  dword 17
      jmp   _hwint_common_stub
  

    _hwint18:
      cli
      push  dword 0
      push  dword 18
      jmp   _hwint_common_stub
  

    _hwint19:
      cli
      push  dword 0
      push  dword 19
      jmp   _hwint_common_stub
  

    _hwint20:
      cli
      push  dword 0
      push  dword 20
      jmp   _hwint_common_stub
  

    _hwint21:
      cli
      push  dword 0
      push  dword 21
      jmp   _hwint_common_stub
  

    _hwint22:
      cli
      push  dword 0
      push  dword 22
      jmp   _hwint_common_stub
  

    _hwint23:
      cli
      push  dword 0
      push  dword 23
      jmp   _hwint_common_stub
  

    _hwint24:
      cli
      push  dword 0
      push  dword 24
      jmp   _hwint_common_stub
  

    _hwint25:
      cli
      push  dword 0
      push  dword 25
      jmp   _hwint_common_stub
  

    _hwint26:
      cli
      push  dword 0
      push  dword 26
      jmp   _hwint_common_stub
  

    _hwint27:
      cli
      push  dword 0
      push  dword 27
      jmp   _hwint_common_stub
  

    _hwint28:
      cli
      push  dword 0
      push  dword 28
      jmp   _hwint_common_stub
  

    _hwint29:
      cli
      push  dword 0
      push  dword 29
      jmp   _hwint_common_stub
  

    _hwint30:
      cli
      push  dword 0
      push  dword 30
      jmp   _hwint_common_stub
  

    _hwint31:
      cli
      push  dword 0
      push  dword 31
      jmp   _hwint_common_stub
  

    _hwint32:
      cli
      push  dword 0
      push  dword 32
      jmp   _hwint_common_stub
  

    _hwint33:
      cli
      push  dword 0
      push  dword 33
      jmp   _hwint_common_stub
  

    _hwint34:
      cli
      push  dword 0
      push  dword 34
      jmp   _hwint_common_stub
  

    _hwint35:
      cli
      push  dword 0
      push  dword 35
      jmp   _hwint_common_stub
  

    _hwint36:
      cli
      push  dword 0
      push  dword 36
      jmp   _hwint_common_stub
  

    _hwint37:
      cli
      push  dword 0
      push  dword 37
      jmp   _hwint_common_stub
  

    _hwint38:
      cli
      push  dword 0
      push  dword 38
      jmp   _hwint_common_stub
  

    _hwint39:
      cli
      push  dword 0
      push  dword 39
      jmp   _hwint_common_stub
  

    _hwint40:
      cli
      push  dword 0
      push  dword 40
      jmp   _hwint_common_stub
  

    _hwint41:
      cli
      push  dword 0
      push  dword 41
      jmp   _hwint_common_stub
  

    _hwint42:
      cli
      push  dword 0
      push  dword 42
      jmp   _hwint_common_stub
  

    _hwint43:
      cli
      push  dword 0
      push  dword 43
      jmp   _hwint_common_stub
  

    _hwint44:
      cli
      push  dword 0
      push  dword 44
      jmp   _hwint_common_stub
  

    _hwint45:
      cli
      push  dword 0
      push  dword 45
      jmp   _hwint_common_stub
  

    _hwint46:
      cli
      push  dword 0
      push  dword 46
      jmp   _hwint_common_stub
  

    _hwint47:
      cli
      push  dword 0
      push  dword 47
      jmp   _hwint_common_stub
  

    _hwint48:
      cli
      push  dword 0
      push  dword 48
      jmp   _hwint_common_stub
  

    _hwint49:
      cli
      push  dword 0
      push  dword 49
      jmp   _hwint_common_stub
  

    _hwint50:
      cli
      push  dword 0
      push  dword 50
      jmp   _hwint_common_stub
  

    _hwint51:
      cli
      push  dword 0
      push  dword 51
      jmp   _hwint_common_stub
  

    _hwint52:
      cli
      push  dword 0
      push  dword 52
      jmp   _hwint_common_stub
  

    _hwint53:
      cli
      push  dword 0
      push  dword 53
      jmp   _hwint_common_stub
  

    _hwint54:
      cli
      push  dword 0
      push  dword 54
      jmp   _hwint_common_stub
  

    _hwint55:
      cli
      push  dword 0
      push  dword 55
      jmp   _hwint_common_stub
  

    _hwint56:
      cli
      push  dword 0
      push  dword 56
      jmp   _hwint_common_stub
  

    _hwint57:
      cli
      push  dword 0
      push  dword 57
      jmp   _hwint_common_stub
  

    _hwint58:
      cli
      push  dword 0
      push  dword 58
      jmp   _hwint_common_stub
  

    _hwint59:
      cli
      push  dword 0
      push  dword 59
      jmp   _hwint_common_stub
  

    _hwint60:
      cli
      push  dword 0
      push  dword 60
      jmp   _hwint_common_stub
  

    _hwint61:
      cli
      push  dword 0
      push  dword 61
      jmp   _hwint_common_stub
  

    _hwint62:
      cli
      push  dword 0
      push  dword 62
      jmp   _hwint_common_stub
  

    _hwint63:
      cli
      push  dword 0
      push  dword 63
      jmp   _hwint_common_stub
  

    _hwint64:
      cli
      push  dword 0
      push  dword 64
      jmp   _hwint_common_stub
  

    _hwint65:
      cli
      push  dword 0
      push  dword 65
      jmp   _hwint_common_stub
  

    _hwint66:
      cli
      push  dword 0
      push  dword 66
      jmp   _hwint_common_stub
  

    _hwint67:
      cli
      push  dword 0
      push  dword 67
      jmp   _hwint_common_stub
  

    _hwint68:
      cli
      push  dword 0
      push  dword 68
      jmp   _hwint_common_stub
  

    _hwint69:
      cli
      push  dword 0
      push  dword 69
      jmp   _hwint_common_stub
  

    _hwint70:
      cli
      push  dword 0
      push  dword 70
      jmp   _hwint_common_stub
  

    _hwint71:
      cli
      push  dword 0
      push  dword 71
      jmp   _hwint_common_stub
  

    _hwint72:
      cli
      push  dword 0
      push  dword 72
      jmp   _hwint_common_stub
  

    _hwint73:
      cli
      push  dword 0
      push  dword 73
      jmp   _hwint_common_stub
  

    _hwint74:
      cli
      push  dword 0
      push  dword 74
      jmp   _hwint_common_stub
  

    _hwint75:
      cli
      push  dword 0
      push  dword 75
      jmp   _hwint_common_stub
  

    _hwint76:
      cli
      push  dword 0
      push  dword 76
      jmp   _hwint_common_stub
  

    _hwint77:
      cli
      push  dword 0
      push  dword 77
      jmp   _hwint_common_stub
  

    _hwint78:
      cli
      push  dword 0
      push  dword 78
      jmp   _hwint_common_stub
  

    _hwint79:
      cli
      push  dword 0
      push  dword 79
      jmp   _hwint_common_stub
  

    _hwint80:
      cli
      push  dword 0
      push  dword 80
      jmp   _hwint_common_stub
  

    _hwint81:
      cli
      push  dword 0
      push  dword 81
      jmp   _hwint_common_stub
  

    _hwint82:
      cli
      push  dword 0
      push  dword 82
      jmp   _hwint_common_stub
  

    _hwint83:
      cli
      push  dword 0
      push  dword 83
      jmp   _hwint_common_stub
  

    _hwint84:
      cli
      push  dword 0
      push  dword 84
      jmp   _hwint_common_stub
  

    _hwint85:
      cli
      push  dword 0
      push  dword 85
      jmp   _hwint_common_stub
  

    _hwint86:
      cli
      push  dword 0
      push  dword 86
      jmp   _hwint_common_stub
  

    _hwint87:
      cli
      push  dword 0
      push  dword 87
      jmp   _hwint_common_stub
  

    _hwint88:
      cli
      push  dword 0
      push  dword 88
      jmp   _hwint_common_stub
  

    _hwint89:
      cli
      push  dword 0
      push  dword 89
      jmp   _hwint_common_stub
  

    _hwint90:
      cli
      push  dword 0
      push  dword 90
      jmp   _hwint_common_stub
  

    _hwint91:
      cli
      push  dword 0
      push  dword 91
      jmp   _hwint_common_stub
  

    _hwint92:
      cli
      push  dword 0
      push  dword 92
      jmp   _hwint_common_stub
  

    _hwint93:
      cli
      push  dword 0
      push  dword 93
      jmp   _hwint_common_stub
  

    _hwint94:
      cli
      push  dword 0
      push  dword 94
      jmp   _hwint_common_stub
  

    _hwint95:
      cli
      push  dword 0
      push  dword 95
      jmp   _hwint_common_stub
  

    _hwint96:
      cli
      push  dword 0
      push  dword 96
      jmp   _hwint_common_stub
  

    _hwint97:
      cli
      push  dword 0
      push  dword 97
      jmp   _hwint_common_stub
  

    _hwint98:
      cli
      push  dword 0
      push  dword 98
      jmp   _hwint_common_stub
  

    _hwint99:
      cli
      push  dword 0
      push  dword 99
      jmp   _hwint_common_stub
  

    _hwint100:
      cli
      push  dword 0
      push  dword 100
      jmp   _hwint_common_stub
  

    _hwint101:
      cli
      push  dword 0
      push  dword 101
      jmp   _hwint_common_stub
  

    _hwint102:
      cli
      push  dword 0
      push  dword 102
      jmp   _hwint_common_stub
  

    _hwint103:
      cli
      push  dword 0
      push  dword 103
      jmp   _hwint_common_stub
  

    _hwint104:
      cli
      push  dword 0
      push  dword 104
      jmp   _hwint_common_stub
  

    _hwint105:
      cli
      push  dword 0
      push  dword 105
      jmp   _hwint_common_stub
  

    _hwint106:
      cli
      push  dword 0
      push  dword 106
      jmp   _hwint_common_stub
  

    _hwint107:
      cli
      push  dword 0
      push  dword 107
      jmp   _hwint_common_stub
  

    _hwint108:
      cli
      push  dword 0
      push  dword 108
      jmp   _hwint_common_stub
  

    _hwint109:
      cli
      push  dword 0
      push  dword 109
      jmp   _hwint_common_stub
  

    _hwint110:
      cli
      push  dword 0
      push  dword 110
      jmp   _hwint_common_stub
  

    _hwint111:
      cli
      push  dword 0
      push  dword 111
      jmp   _hwint_common_stub
  

    _hwint112:
      cli
      push  dword 0
      push  dword 112
      jmp   _hwint_common_stub
  

    _hwint113:
      cli
      push  dword 0
      push  dword 113
      jmp   _hwint_common_stub
  

    _hwint114:
      cli
      push  dword 0
      push  dword 114
      jmp   _hwint_common_stub
  

    _hwint115:
      cli
      push  dword 0
      push  dword 115
      jmp   _hwint_common_stub
  

    _hwint116:
      cli
      push  dword 0
      push  dword 116
      jmp   _hwint_common_stub
  

    _hwint117:
      cli
      push  dword 0
      push  dword 117
      jmp   _hwint_common_stub
  

    _hwint118:
      cli
      push  dword 0
      push  dword 118
      jmp   _hwint_common_stub
  

    _hwint119:
      cli
      push  dword 0
      push  dword 119
      jmp   _hwint_common_stub
  

    _hwint120:
      cli
      push  dword 0
      push  dword 120
      jmp   _hwint_common_stub
  

    _hwint121:
      cli
      push  dword 0
      push  dword 121
      jmp   _hwint_common_stub
  

    _hwint122:
      cli
      push  dword 0
      push  dword 122
      jmp   _hwint_common_stub
  

    _hwint123:
      cli
      push  dword 0
      push  dword 123
      jmp   _hwint_common_stub
  

    _hwint124:
      cli
      push  dword 0
      push  dword 124
      jmp   _hwint_common_stub
  

    _hwint125:
      cli
      push  dword 0
      push  dword 125
      jmp   _hwint_common_stub
  

    _hwint126:
      cli
      push  dword 0
      push  dword 126
      jmp   _hwint_common_stub
  

    _hwint127:
      cli
      push  dword 0
      push  dword 127
      jmp   _hwint_common_stub
  

    _hwint128:
      cli
      push  dword 0
      push  dword 128
      jmp   _hwint_common_stub
  

; vector table
[section .data]
[global  _hwint]

_hwint:
  dd _hwint0
  dd _hwint1
  dd _hwint2
  dd _hwint3
  dd _hwint4
  dd _hwint5
  dd _hwint6
  dd _hwint7
  dd _hwint8
  dd _hwint9
  dd _hwint10
  dd _hwint11
  dd _hwint12
  dd _hwint13
  dd _hwint14
  dd _hwint15
  dd _hwint16
  dd _hwint17
  dd _hwint18
  dd _hwint19
  dd _hwint20
  dd _hwint21
  dd _hwint22
  dd _hwint23
  dd _hwint24
  dd _hwint25
  dd _hwint26
  dd _hwint27
  dd _hwint28
  dd _hwint29
  dd _hwint30
  dd _hwint31
  dd _hwint32
  dd _hwint33
  dd _hwint34
  dd _hwint35
  dd _hwint36
  dd _hwint37
  dd _hwint38
  dd _hwint39
  dd _hwint40
  dd _hwint41
  dd _hwint42
  dd _hwint43
  dd _hwint44
  dd _hwint45
  dd _hwint46
  dd _hwint47
  dd _hwint48
  dd _hwint49
  dd _hwint50
  dd _hwint51
  dd _hwint52
  dd _hwint53
  dd _hwint54
  dd _hwint55
  dd _hwint56
  dd _hwint57
  dd _hwint58
  dd _hwint59
  dd _hwint60
  dd _hwint61
  dd _hwint62
  dd _hwint63
  dd _hwint64
  dd _hwint65
  dd _hwint66
  dd _hwint67
  dd _hwint68
  dd _hwint69
  dd _hwint70
  dd _hwint71
  dd _hwint72
  dd _hwint73
  dd _hwint74
  dd _hwint75
  dd _hwint76
  dd _hwint77
  dd _hwint78
  dd _hwint79
  dd _hwint80
  dd _hwint81
  dd _hwint82
  dd _hwint83
  dd _hwint84
  dd _hwint85
  dd _hwint86
  dd _hwint87
  dd _hwint88
  dd _hwint89
  dd _hwint90
  dd _hwint91
  dd _hwint92
  dd _hwint93
  dd _hwint94
  dd _hwint95
  dd _hwint96
  dd _hwint97
  dd _hwint98
  dd _hwint99
  dd _hwint100
  dd _hwint101
  dd _hwint102
  dd _hwint103
  dd _hwint104
  dd _hwint105
  dd _hwint106
  dd _hwint107
  dd _hwint108
  dd _hwint109
  dd _hwint110
  dd _hwint111
  dd _hwint112
  dd _hwint113
  dd _hwint114
  dd _hwint115
  dd _hwint116
  dd _hwint117
  dd _hwint118
  dd _hwint119
  dd _hwint120
  dd _hwint121
  dd _hwint122
  dd _hwint123
  dd _hwint124
  dd _hwint125
  dd _hwint126
  dd _hwint127
  dd _hwint128
